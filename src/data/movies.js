export const PLACEHOLDER_COVER =
  "https://images.unsplash.com/photo-1544551763-7ef4200d2d07?q=80&w=1200&auto=format&fit=crop";

function d(y, m, day) {
  const mm = String(m).padStart(2, "0");
  const dd = String(day).padStart(2, "0");
  return `${y}-${mm}-${dd}`;
}

export const YEAR_HINTS = {
  "The Toxic Avenger: Part II": 1989,
  "Alligator II: The Mutation": 1991,
  "Grizzly II: Revenge": 2020,
  "Poltergeist II: The Other Side": 1986,
  "Brahms: The Boy II": 2020,
  "XTRO 2: The Second Encounter": 1990,
  "Psycho Cop Returns": 1993,
  "Leprechaun 2": 1994,
  "Species II": 1998,
  "Puppet Master II": 1990,
  "Sleepaway Camp II": 1988,
  "Texas Chainsaw Massacre Part 2": 1986,
  "ABCs of Death 2 (anthology)": 2014,
  "Terrifier 2": 2022,
  "The Rage: Carrie 2": 1999,
  "ChromeSkull: Laid to Rest 2": 2011,
};

export const MOVIES = [
  {
    date: d(2025, 10, 1),
    title: "Invasive 2: Getaway",
    url: "https://tubitv.com/movies/100034652/invasive-2-getaway",
  },
  {
    date: d(2025, 10, 2),
    title: "Alligator II: The Mutation",
    url: "https://tubitv.com/movies/100014852/alligator-ii-the-mutation",
  },
  {
    date: d(2025, 10, 3),
    title: "Puppet Master II",
    url: "https://tubitv.com/movies/466612/puppet-master-ii",
  },
  {
    date: d(2025, 10, 4),
    title: "10/31: Part II (anthology)",
    url: "https://tubitv.com/movies/604507/10-31-part-ii",
  },
  {
    date: d(2025, 10, 5),
    title: "The Stalker: Part II",
    url: "https://tubitv.com/movies/100008553/the-stalker-part-ii",
  },
  {
    date: d(2025, 10, 6),
    title: "Stake Land II",
    url: "https://tubitv.com/movies/583420/stake-land-ii",
  },
  {
    date: d(2025, 10, 7),
    title: "Manos Returns",
    notes: "You may remember Hands of Manos from MST3K | Torgo",
    url: "https://tubitv.com/movies/654510/manos-returns",
  },
  {
    date: d(2025, 10, 8),
    title: "Massacre II",
    url: "https://tubitv.com/movies/465153/slumber-party-massacre-ii",
  },
  {
    date: d(2025, 10, 9),
    title: "Grizzly II: Revenge",
    url: "https://tubitv.com/movies/100016369/grizzly-ii-revenge",
  },
  {
    date: d(2025, 10, 10),
    title: "Leprechaun 2",
    url: "https://tubitv.com/movies/343312/leprechaun-ii",
  },
  {
    date: d(2025, 10, 11),
    title: "The Toxic Avenger: Part II",
    url: "https://tubitv.com/movies/693384/the-toxic-avenger-part-ii",
  },
  {
    date: d(2025, 10, 12),
    title: "Poltergeist II: The Other Side",
    url: "https://tubitv.com/movies/312191/poltergeist-ii-the-other-side",
  },
  {
    date: d(2025, 10, 13),
    title: "Species II",
    url: "https://tubitv.com/movies/312197/species-ii",
  },

  {
    date: d(2025, 10, 14),
    title: "XTRO 2: The Second Encounter",
    url: "https://tubitv.com/movies/100040752/xtro-ii-the-second-encounter",
  },
  {
    date: d(2025, 10, 15),
    title: "Psycho Cop Returns",
    url: "https://tubitv.com/movies/100018762/psycho-cop-returns",
  },
  {
    date: d(2025, 10, 16),
    title: "Apex Predators 2: The Spawning",
    url: "https://tubitv.com/movies/100031756/apex-predators-2-the-spawning",
  },
  {
    date: d(2025, 10, 17),
    title: "Brahms: The Boy II",
    url: "https://tubitv.com/movies/100041152/brahms-the-boy-ii",
  },
  {
    date: d(2025, 10, 18),
    title: "Dementia: Part II",
    url: "https://tubitv.com/movies/639504/dementia-part-ii",
  },
  {
    date: d(2025, 10, 19),
    title: "Butchers Book Two: Raghorn",
    url: "https://tubitv.com/movies/100039197/butchers-book-two-raghorn",
  },
  {
    date: d(2025, 10, 20),
    title: "Sleepaway Camp II",
    url: "https://tubitv.com/movies/302252/sleepaway-camp-ii-unhappy-campers",
  },
  {
    date: d(2025, 10, 21),
    title: "Day of the Dead 2: Contagium",
    url: "https://tubitv.com/movies/486711/day-of-the-dead-2-contagium",
  },
  {
    date: d(2025, 10, 22),
    title: "Return to Return to Nuke â€˜Em High (Vol. 2)",
    url: "https://tubitv.com/movies/693370/return-to-return-to-nuke-em-high-vol-2",
  },
  {
    date: d(2025, 10, 23),
    title: "Zoombies 2",
    url: "https://tubitv.com/movies/518208/zoombies-2",
  },
  {
    date: d(2025, 10, 24),
    title: "Ghoulies II",
    url: "https://tubitv.com/movies/310133/ghoulies-ii",
  },

  {
    date: d(2025, 10, 25),
    title: "Texas Chainsaw Massacre Part 2",
    url: "https://tubitv.com/movies/466378/the-texas-chainsaw-massacre-2",
  },
  {
    date: d(2025, 10, 26),
    title: "Grotesque 2",
    url: "https://tubitv.com/movies/100031508/grotesque-2",
  },
  {
    date: d(2025, 10, 27),
    title: "The Barn: Part II",
    url: "https://tubitv.com/movies/100035616/the-barn-part-ii",
  },
  {
    date: d(2025, 10, 28),
    title: "The Rage: Carrie 2",
    url: "https://tubitv.com/movies/458101/the-rage-carrie-2",
  },
  {
    date: d(2025, 10, 29),
    title: "ChromeSkull: Laid to Rest 2",
    url: "https://tubitv.com/movies/485992/chromeskull-laid-to-rest-2",
  },
  {
    date: d(2025, 10, 30),
    title: "Ouija Shark 2",
    url: "https://tubitv.com/movies/100009896/ouija-shark-2",
  },
  {
    date: d(2025, 10, 31),
    title: "Terrifier 2",
    url: "https://tubitv.com/movies/723572/terrifier-2",
  },
];

export function formatLongDate(iso) {
  return new Date(iso + "T12:00:00").toLocaleDateString(undefined, {
    weekday: "long",
    year: "numeric",
    month: "long",
    day: "numeric",
  });
}

export function getTodayMovie() {
  const todayISO = new Date().toISOString().slice(0, 10);
  return MOVIES.find((m) => m.date === todayISO) || null;
}

export function buildCalendar(year, monthIndexZeroBased) {
  const firstOfMonth = new Date(year, monthIndexZeroBased, 1);
  const startDayIndex = (firstOfMonth.getDay() + 7) % 7; // 0 Sun
  const daysInMonth = new Date(year, monthIndexZeroBased + 1, 0).getDate();
  const startDate = new Date(year, monthIndexZeroBased, 1 - startDayIndex);
  const weeks = [];
  let cursor = new Date(startDate);
  for (let w = 0; w < 5; w++) {
    const row = [];
    for (let dIdx = 0; dIdx < 7; dIdx++) {
      row.push(new Date(cursor));
      cursor.setDate(cursor.getDate() + 1);
    }
    weeks.push(row);
  }
  return { weeks, daysInMonth };
}
